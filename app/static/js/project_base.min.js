var metaData = $("#project-data").data(), newProgressItemUrl = metaData.newProgressItemUrl;
$.fn.editable.defaults.mode = "inline", $("#delete_project").on("click", function() {
  "use strict";
  swal({
    title: "Are you sure to delete the project?",
    text: "You are going to",
    type: "warning",
    showCancelButton: !0,
    confirmButtonColor: "#DD6B55",
    confirmButtonText: "Yes, delete it!",
    cancelButtonText: "No, cancel plx!",
    closeOnConfirm: !1,
    closeOnCancel: !1,
    customClass: "deleteConfirmation"
  }, function(e) {
    if (!e)return void swal("Cancelled", "Your project is safe :)", "error");
    var t = $(".deleteConfirmation").find(".confirm"), n = t.html();
    t.html('<i class="fa fa-spinner fa-spin"></i> ' + n), t.off("click"), $.ajax({
      url: deleteProjectUrl,
      type: "DELETE",
      contentType: "application/json; charset=utf-8",
      dataType: "json"
    }).done(function() {
      swal({title: "Nice!", text: "You delete: " + projectName, type: "success"}, function() {
        window.location.href = "/"
      })
    })
  })
}), $("#archive_project").on("click", function() {
  "use strict";
  var e = "archive";
  swal({
    title: "Are you sure to " + e + " the project?",
    text: "You can recover this project later!",
    type: "info",
    showCancelButton: !0,
    confirmButtonColor: "#DD6B55",
    confirmButtonText: "Yes, " + e + " it!",
    cancelButtonText: "No, cancel plx!",
    closeOnConfirm: !1,
    closeOnCancel: !1,
    customClass: "archiveConfirmation"
  }, function(t) {
    if (!t)return void swal("Cancelled", "The project file is safe :)", "error");
    var n = $(".archiveConfirmation").find(".confirm"), a = n.html();
    n.html('<i class="fa fa-spinner fa-spin"></i> ' + a), n.off("click");
    var o = "True" !== projectActive;
    $.ajax({
      url: editProjectUrl,
      type: "PUT",
      data: JSON.stringify({active: o}),
      contentType: "application/json; charset=utf-8",
      dataType: "json"
    }).done(function() {
      swal({title: "Nice!", text: "You " + e + ": " + projectName, type: "success"}, function() {
        location.reload()
      })
    })
  })
}), $("#btn-add-new-progress-items").on("click", function() {
  "use strict";
  var e = $("#new-progress-items-form").parsley();
  e.validate(), e.isValid() && swal({
    title: "Are you sure to delete selected rows?",
    text: "You cannot recover them later!",
    type: "warning",
    showCancelButton: !0,
    confirmButtonColor: "teal",
    confirmButtonText: "Yes, save them!",
    cancelButtonText: "No, cancel plx!",
    closeOnConfirm: !1,
    closeOnCancel: !1,
    customClass: "deleteRowsConfirmation"
  }, function(e) {
    function t(e) {
      if (e >= n.length)return !0;
      var a = $(n[e]), o = a.find("textarea").val(), c = accounting.parse(a.find("input").val()), r = !0;
      return $.ajax({
        url: newProgressItemUrl,
        type: "POST",
        data: JSON.stringify({name: o, contract_value: c, project_id: projectId}),
        contentType: "application/json; charset=utf-8",
        dataType: "json"
      }).done(function(n) {
        r = t(e + 1)
      }).fail(function() {
        r = !1
      }), r
    }

    if (!e)return void swal("Cancelled", "Your project is safe :)", "error");
    var n = $(".progressItem"), a = t(0);
    a && swal({title: "Nice!", text: "You saved all changes", type: "success"}, function() {
      location.reload()
    })
  })
}), $("#btn-save-meta").on("click", function() {
  "use strict";
  var e = $("#edit-project-meta-form").parsley();
  e.validate(), e.isValid() && swal({
    title: "Are you sure to save the changes?",
    text: "You cannot recover them later!",
    type: "warning",
    showCancelButton: !0,
    confirmButtonColor: "teal",
    confirmButtonText: "Yes, save them!",
    cancelButtonText: "No, cancel plx!",
    closeOnConfirm: !1,
    closeOnCancel: !1,
    customClass: "saveMetaConfirmation"
  }, function(e) {
    if (!e)return void swal("Cancelled", "Your project is safe :)", "error");
    var t = $(".saveMetaConfirmation").find(".confirm"), n = t.html();
    t.html('<i class="fa fa-spinner fa-spin"></i> ' + n), t.off("click");
    var a = $("#new_name").val(), o = $("#new_margin").val(), c = $("#new_ref_number").val(), r = $("#new_admin_fee").val();
    "" === r && (r = null), $.ajax({
      url: editProjectUrl,
      type: "PUT",
      data: JSON.stringify({name: a, margin: o, admin_fee: r, reference_number: c}),
      contentType: "application/json; charset=utf-8",
      dataType: "json"
    }).done(function() {
      swal({title: "Nice!", text: "Save changes", type: "success"}, function() {
        location.reload()
      })
    })
  })
});
var $table = $("#table");
$table.on("editable-save.bs.table", function() {
  "use strict";
  $("#btn-save").prop("disabled", !1)
}), $table.on("check.bs.table check-all.bs.table check-some.bs.table", function() {
  "use strict";
  $("#btn-delete").prop("disabled", !1)
}), $table.on("uncheck-all.bs.table", function() {
  "use strict";
  $("#btn-delete").prop("disabled", !0)
}), $table.on("uncheck.bs.table	uncheck-some.bs.table", function() {
  "use strict";
  var e = $table.bootstrapTable("getSelections");
  0 === e.length && $("#btn-delete").prop("disabled", !0)
});
//# sourceMappingURL=project_base.min.map