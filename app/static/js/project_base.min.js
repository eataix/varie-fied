var metaData=$("#project-data").data(),newProgressItemUrl=metaData.newProgressItemUrl;$.fn.editable.defaults.mode="inline",$("#delete_project").on("click",function(e){swal({title:"Are you sure to delete the project?",text:"You are going to",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel plx!",closeOnConfirm:!1,closeOnCancel:!1,customClass:"deleteConfirmation"},function(e){if(!e)return void swal("Cancelled","Your project is safe :)","error");var t=$(".deleteConfirmation").find(".confirm"),o=t.html();t.html('<i class="fa fa-spinner fa-spin"></i> '+o),t.off("click"),$.ajax({url:deleteProjectUrl,type:"DELETE",contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(){swal({title:"Nice!",text:"You delete: "+projectName,type:"success"},function(){window.location.href="/"})})})}),$("#archive_project").on("click",function(){var e="archive";swal({title:"Are you sure to "+e+" the project?",text:"You can recover this project later!",type:"info",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, "+e+" it!",cancelButtonText:"No, cancel plx!",closeOnConfirm:!1,closeOnCancel:!1,customClass:"archiveConfirmation"},function(t){if(!t)return void swal("Cancelled","The project file is safe :)","error");var o=$(".archiveConfirmation").find(".confirm"),n=o.html();o.html('<i class="fa fa-spinner fa-spin"></i> '+n),o.off("click");var a="True"!==projectActive;$.ajax({url:editProjectUrl,type:"PUT",data:JSON.stringify({active:a}),contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(){swal({title:"Nice!",text:"You "+e+": "+projectName,type:"success"},function(){location.reload()})})})}),$("#btn-add-new-progress-items").on("click",function(){var e=$("#new-progress-items-form").parsley();e.validate(),e.isValid()&&swal({title:"Are you sure to delete selected rows?",text:"You cannot recover them later!",type:"warning",showCancelButton:!0,confirmButtonColor:"teal",confirmButtonText:"Yes, save them!",cancelButtonText:"No, cancel plx!",closeOnConfirm:!1,closeOnCancel:!1,customClass:"deleteRowsConfirmation"},function(e){return e?($(".progressItem").each(function(e,t){var o=$(t).find("textarea").val(),n=accounting.parse($(t).find("input").val());$.ajax({url:newProgressItemUrl,type:"POST",data:JSON.stringify({name:o,contract_value:n,project_id:projectId}),contentType:"application/json; charset=utf-8",dataType:"json"})}),void swal({title:"Nice!",text:"You saved all changes",type:"success"},function(){location.reload()})):void swal("Cancelled","Your project is safe :)","error")})});var $table=$("#table");$table.on("editable-save.bs.table",function(){$("#btn-save").prop("disabled",!1)}),$table.on("check.bs.table check-all.bs.table check-some.bs.table",function(){$("#btn-delete").prop("disabled",!1)}),$table.on("uncheck-all.bs.table",function(){$("#btn-delete").prop("disabled",!0)}),$table.on("uncheck.bs.table	uncheck-some.bs.table",function(){var e=$table.bootstrapTable("getSelections");0===e.length()&&$("#btn-delete").prop("disabled",!0)});